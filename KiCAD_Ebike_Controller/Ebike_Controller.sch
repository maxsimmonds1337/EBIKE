EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 7
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 9050 1200 1750 2950
U 5FECEF22
F0 "Triple_H_Bridge" 50
F1 "Triple_H_Bridge.sch" 50
F2 "PHASE_A" I R 10800 2200 50 
F3 "PHASE_B" I R 10800 2350 50 
F4 "PHASE_C" I R 10800 2500 50 
F5 "PHASE_A_FETs" I L 9050 2200 50 
F6 "PHASE_B_FETs" I L 9050 2350 50 
F7 "PHASE_C_FETs" I L 9050 2500 50 
F8 "FET_GND" B L 9050 3800 50 
F9 "+48V" B L 9050 1400 50 
$EndSheet
Wire Bus Line
	8100 2200 9050 2200
Wire Bus Line
	8100 2500 9050 2500
Wire Bus Line
	8100 2350 9050 2350
Wire Wire Line
	5850 1400 5850 1950
Wire Wire Line
	5850 1950 6250 1950
Connection ~ 5850 1400
Wire Wire Line
	5550 2700 6250 2700
Wire Wire Line
	5550 2800 6250 2800
Wire Wire Line
	5550 3200 6250 3200
Wire Wire Line
	6250 3100 5550 3100
Wire Wire Line
	5550 3300 6250 3300
$Sheet
S 3400 2500 2150 1600
U 5F8BD648
F0 "MCU" 50
F1 "MCU.sch" 50
F2 "+3.3v" I L 3400 2650 50 
F3 "GND" I L 3400 3850 50 
F4 "PWM_PA15" O R 5550 2800 50 
F5 "DIR_PA11" O R 5550 2700 50 
F6 "nSLEEP_PA12" O R 5550 3200 50 
F7 "nBRAKE_PA13" O R 5550 3100 50 
F8 "nFAULT_PA14" I R 5550 3300 50 
F9 "V_BATT_MON_PA0" I L 3400 2750 50 
F10 "I_BATT_MON_PA1" I L 3400 2850 50 
F11 "THROTTLE_PA2" I L 3400 3150 50 
F12 "AMB_LIGHT_PA3" I L 3400 3250 50 
F13 "SD_SPI" I R 5550 3900 50 
F14 "LCD_I2C" I R 5550 4000 50 
F15 "HALL_A_PB0" I R 5550 3600 50 
F16 "HALL_B_PB1" I R 5550 3700 50 
F17 "HALL_C_PB2" I R 5550 3800 50 
F18 "SWDIO" O L 3400 3550 50 
F19 "SWCLK" O L 3400 3650 50 
F20 "nRST" I L 3400 3450 50 
F21 "BRAKE_SW_PB6" I L 3400 2950 50 
F22 "MODE_SW_PB7" I L 3400 3350 50 
$EndSheet
$Sheet
S 6250 1800 1850 2300
U 5F8D3A83
F0 "BLDC Driver" 50
F1 "BLDC Driver.sch" 50
F2 "HC" I L 6250 3800 50 
F3 "HB" I L 6250 3700 50 
F4 "HA" I L 6250 3600 50 
F5 "nSLEEP_PA2" I L 6250 3200 50 
F6 "nBRAKE_PA3" I L 6250 3100 50 
F7 "PWM_PA0" I L 6250 2800 50 
F8 "DIR_PA1" I L 6250 2700 50 
F9 "+48v" I L 6250 1950 50 
F10 "Phase_C_FETs" O R 8100 2500 50 
F11 "Phase_B_FETs" O R 8100 2350 50 
F12 "Phase_A_FETs" O R 8100 2200 50 
F13 "+3.3v" O L 6250 2150 50 
F14 "LSS" I R 8100 3800 50 
F15 "nFAULT" O L 6250 3300 50 
F16 "GND" I R 8100 3950 50 
$EndSheet
Wire Wire Line
	6100 4450 9600 4450
Wire Wire Line
	6000 4550 9600 4550
Wire Wire Line
	5900 4650 9600 4650
Wire Wire Line
	5550 3800 5900 3800
Wire Wire Line
	5550 3700 6000 3700
Wire Wire Line
	5550 3600 6100 3600
Wire Wire Line
	5900 4650 5900 3800
Connection ~ 5900 3800
Wire Wire Line
	5900 3800 6250 3800
Wire Wire Line
	6000 4550 6000 3700
Connection ~ 6000 3700
Wire Wire Line
	6000 3700 6250 3700
Wire Wire Line
	6100 4450 6100 3600
Connection ~ 6100 3600
Wire Wire Line
	6100 3600 6250 3600
$Comp
L power:GND #PWR?
U 1 1 5F98E372
P 8350 4150
F 0 "#PWR?" H 8350 3900 50  0001 C CNN
F 1 "GND" H 8355 3977 50  0000 C CNN
F 2 "" H 8350 4150 50  0001 C CNN
F 3 "" H 8350 4150 50  0001 C CNN
	1    8350 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 4150 8350 3950
Wire Wire Line
	8350 3950 8100 3950
Wire Bus Line
	5550 3900 5800 3900
Wire Bus Line
	5800 3900 5800 5300
Wire Bus Line
	5800 5300 7700 5300
Wire Bus Line
	5550 4000 5700 4000
Wire Bus Line
	5700 4000 5700 5900
Wire Bus Line
	5700 5900 6500 5900
$Sheet
S 7700 5000 1000 700 
U 5F9964A0
F0 "SD CARD" 50
F1 "SD CARD.sch" 50
F2 "GND" I L 7700 5600 50 
F3 "SPI" I L 7700 5300 50 
F4 "+3.3V" I L 7700 5100 50 
$EndSheet
Text Label 6100 5300 0    50   ~ 0
SD_SPI
Text Label 6050 5900 0    50   ~ 0
LCD_I2C
$Sheet
S 6500 5600 850  650 
U 5F9972CE
F0 "LCD" 50
F1 "LCD.sch" 50
F2 "LCD_I2C" I L 6500 5900 50 
$EndSheet
Wire Wire Line
	5850 1400 9050 1400
$Sheet
S 1100 1450 1200 700 
U 5FA215E4
F0 "BMS" 50
F1 "BMS.sch" 50
F2 "GND" I L 1100 2050 50 
F3 "VBatt" I L 1100 1550 50 
F4 "V_BATT_MON_PA0" I R 2300 1700 50 
F5 "LSS" I L 1100 1950 50 
F6 "+3.3v" I L 1100 1650 50 
F7 "I_BATT_MON_PA1" I R 2300 1800 50 
$EndSheet
Wire Wire Line
	1100 1550 850  1550
$Comp
L power:GND #PWR?
U 1 1 5FA215EE
P 850 2100
F 0 "#PWR?" H 850 1850 50  0001 C CNN
F 1 "GND" H 855 1927 50  0000 C CNN
F 2 "" H 850 2100 50  0001 C CNN
F 3 "" H 850 2100 50  0001 C CNN
	1    850  2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 2050 850  2050
Wire Wire Line
	850  2050 850  2100
Wire Wire Line
	1100 1650 850  1650
Wire Wire Line
	3100 1200 3100 1400
Wire Wire Line
	850  1200 850  1550
Wire Wire Line
	850  1950 1100 1950
Text Label 850  1950 0    50   ~ 0
LSS
Text Label 8500 3800 0    50   ~ 0
LSS
Wire Wire Line
	2000 3450 3400 3450
Wire Wire Line
	3400 3550 2100 3550
Wire Wire Line
	2200 3650 3400 3650
$Comp
L power:GND #PWR?
U 1 1 5FA5F3C1
P 3100 4000
F 0 "#PWR?" H 3100 3750 50  0001 C CNN
F 1 "GND" H 3105 3827 50  0000 C CNN
F 2 "" H 3100 4000 50  0001 C CNN
F 3 "" H 3100 4000 50  0001 C CNN
	1    3100 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 3850 3100 3850
Wire Wire Line
	3100 3850 3100 4000
Wire Wire Line
	2000 3450 2000 5300
Wire Wire Line
	2100 3550 2100 5400
Wire Wire Line
	2200 3650 2200 5500
$Comp
L power:GND #PWR?
U 1 1 5FA6FA7F
P 1450 5900
F 0 "#PWR?" H 1450 5650 50  0001 C CNN
F 1 "GND" H 1455 5727 50  0000 C CNN
F 2 "" H 1450 5900 50  0001 C CNN
F 3 "" H 1450 5900 50  0001 C CNN
	1    1450 5900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 5600 1450 5600
Wire Wire Line
	1100 5200 1450 5200
Text Notes 750  5900 0    50   ~ 0
SWD\nProgramming\nInput
$Comp
L Connector:Conn_01x05_Male J?
U 1 1 5FA6FA8F
P 900 5400
F 0 "J?" H 1008 5781 50  0000 C CNN
F 1 "SWD Programming Pins" H 1008 5690 50  0000 C CNN
F 2 "" H 900 5400 50  0001 C CNN
F 3 "~" H 900 5400 50  0001 C CNN
	1    900  5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 5600 1450 5900
Wire Wire Line
	1100 5300 2000 5300
Wire Wire Line
	1100 5400 2100 5400
Wire Wire Line
	1100 5500 2200 5500
Wire Wire Line
	8100 3800 9050 3800
Wire Wire Line
	7700 5100 7350 5100
Wire Wire Line
	7700 5600 7550 5600
Wire Wire Line
	7550 5600 7550 5650
$Comp
L power:GND #PWR?
U 1 1 5FB1296D
P 7550 5650
F 0 "#PWR?" H 7550 5400 50  0001 C CNN
F 1 "GND" H 7555 5477 50  0000 C CNN
F 2 "" H 7550 5650 50  0001 C CNN
F 3 "" H 7550 5650 50  0001 C CNN
	1    7550 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 2150 5850 2150
Text Label 5850 2150 0    50   ~ 0
+3.3V
$Comp
L power:+48V #PWR?
U 1 1 5FB22E4A
P 3100 1200
F 0 "#PWR?" H 3100 1050 50  0001 C CNN
F 1 "+48V" H 3115 1373 50  0000 C CNN
F 2 "" H 3100 1200 50  0001 C CNN
F 3 "" H 3100 1200 50  0001 C CNN
	1    3100 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+48V #PWR?
U 1 1 5FB237DE
P 850 1200
F 0 "#PWR?" H 850 1050 50  0001 C CNN
F 1 "+48V" H 865 1373 50  0000 C CNN
F 2 "" H 850 1200 50  0001 C CNN
F 3 "" H 850 1200 50  0001 C CNN
	1    850  1200
	1    0    0    -1  
$EndComp
Text Label 1450 5200 0    50   ~ 0
+3.3V
Text Label 850  1650 0    50   ~ 0
+3.3V
Text Label 7350 5100 0    50   ~ 0
+3.3V
Text Label 3050 2650 0    50   ~ 0
+3.3V
Wire Wire Line
	3100 1400 5850 1400
Wire Wire Line
	3400 2750 2800 2750
Wire Wire Line
	2800 2750 2800 1700
Wire Wire Line
	2800 1700 2300 1700
Wire Wire Line
	2300 1800 2700 1800
Wire Wire Line
	2700 1800 2700 2850
Wire Wire Line
	2700 2850 3400 2850
$Comp
L Switch:SW_Push SW?
U 1 1 5FA254BF
P 2100 3350
F 0 "SW?" H 2100 3635 50  0000 C CNN
F 1 "SW_Push" H 2100 3544 50  0000 C CNN
F 2 "" H 2100 3550 50  0001 C CNN
F 3 "~" H 2100 3550 50  0001 C CNN
	1    2100 3350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FA25E00
P 1850 3400
F 0 "#PWR?" H 1850 3150 50  0001 C CNN
F 1 "GND" H 1855 3227 50  0000 C CNN
F 2 "" H 1850 3400 50  0001 C CNN
F 3 "" H 1850 3400 50  0001 C CNN
	1    1850 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 3400 1850 3350
Wire Wire Line
	1850 3350 1900 3350
Wire Wire Line
	2300 3350 2450 3350
$Comp
L Device:R_Small R?
U 1 1 5FA28B2F
P 2450 3150
F 0 "R?" H 2509 3196 50  0000 L CNN
F 1 "100k" H 2509 3105 50  0000 L CNN
F 2 "" H 2450 3150 50  0001 C CNN
F 3 "~" H 2450 3150 50  0001 C CNN
	1    2450 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 3250 2450 3350
Wire Wire Line
	2450 3050 2450 2650
Wire Wire Line
	2450 2650 3400 2650
Wire Wire Line
	3400 3350 2450 3350
Connection ~ 2450 3350
$Comp
L Connector:Conn_01x05_Male J?
U 1 1 5FA3E6DC
P 700 3200
F 0 "J?" H 808 3581 50  0000 C CNN
F 1 "Conn_01x05_Male" H 808 3490 50  0000 C CNN
F 2 "" H 700 3200 50  0001 C CNN
F 3 "~" H 700 3200 50  0001 C CNN
	1    700  3200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FA3FECB
P 1200 3500
F 0 "#PWR?" H 1200 3250 50  0001 C CNN
F 1 "GND" H 1205 3327 50  0000 C CNN
F 2 "" H 1200 3500 50  0001 C CNN
F 3 "" H 1200 3500 50  0001 C CNN
	1    1200 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 3550 1200 3500
Wire Wire Line
	1200 3400 900  3400
Connection ~ 1200 3500
Wire Wire Line
	1200 3500 1200 3400
$EndSCHEMATC
